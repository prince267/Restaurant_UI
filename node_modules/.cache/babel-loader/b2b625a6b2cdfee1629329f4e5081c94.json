{"ast":null,"code":"import _defineProperty from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/src/components/pages/resataurantRegistration.js\";\nimport React, { Component } from \"react\";\nimport \"./cra.css\";\n\nvar formValid = function formValid(_ref) {\n  var formErrors = _ref.formErrors,\n      status = _ref.status,\n      responseerror = _ref.responseerror,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\", \"status\", \"responseerror\"]);\n\n  var valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(function (val) {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(function (val) {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nvar restaurantRegistration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(restaurantRegistration, _Component);\n\n  function restaurantRegistration(props) {\n    var _this;\n\n    _classCallCheck(this, restaurantRegistration);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(restaurantRegistration).call(this, props));\n\n    _this.registration = function () {\n      return fetch(\"http://localhost:8080/restaurant/\", {\n        mode: 'no-cors'\n      }, {\n        method: \"POST\",\n        headers: {\n          \"Access-Control-Allow-Credentials\": true,\n          \"Access-Control-Allow-Origin\": \"*\",\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: _this.state.firstName,\n          addressline2: _this.state.addressline2,\n          address: _this.state.address,\n          url: _this.state.url,\n          outcode: _this.state.outcode,\n          postcode: _this.state.postcode,\n          rating: parseInt(_this.state.rating, 10),\n          //it convert string to int\n          type_of_food: _this.state.type_of_food\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (responseJson) {\n        console.log(\"response\", responseJson);\n\n        if (responseJson.status) {\n          _this.setState({\n            status: responseJson.status\n          });\n        } else {\n          _this.setState({\n            status: responseJson.status,\n            responseerror: responseJson.message\n          });\n        }\n\n        console.log(\"state\", _this.state);\n      }).catch(function (error) {\n        console.error(\"error\", error);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.registration();\n\n      if (formValid(_this.state)) {\n        console.log(\"--SUBMITTING\", _this.state);\n      } else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"firstName\":\n          formErrors.firstName = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"address\":\n          formErrors.address = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"addressline2\":\n          formErrors.addressline2 = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"url\":\n          formErrors.url = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"outcode\":\n          formErrors.outcode = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"postcode\":\n          formErrors.postcode = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"rating\":\n          formErrors.rating = value.length < 0 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"type_of_food\":\n          formErrors.type_of_food = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.state = {\n      firstName: null,\n      address: null,\n      addressline2: null,\n      url: null,\n      outcode: null,\n      postcode: null,\n      rating: null,\n      type_of_food: null,\n      formErrors: {\n        firstName: \"\",\n        address: \"\",\n        addressline2: \"\",\n        url: \"\",\n        outcode: \"\",\n        postcode: \"\",\n        rating: \"\",\n        type_of_food: \"\"\n      },\n      status: null,\n      responseerror: null\n    };\n    return _this;\n  }\n\n  _createClass(restaurantRegistration, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Create Account\"), React.createElement(\"form\", {\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"input\", {\n        className: formErrors.firstName.length > 0 ? \"error\" : null,\n        placeholder: \"First Name\",\n        type: \"text\",\n        name: \"firstName\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), formErrors.firstName.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, formErrors.firstName)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"input\", {\n        className: formErrors.address.length > 0 ? \"error\" : null,\n        placeholder: \"Address\",\n        type: \"text\",\n        name: \"address\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), formErrors.address.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, formErrors.address)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"address Line 2\"), React.createElement(\"input\", {\n        className: formErrors.firstName.length > 0 ? \"error\" : null,\n        placeholder: \"Address Line 2\",\n        type: \"text\",\n        name: \"addressline2\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), formErrors.addressline2.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, formErrors.addressline2)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Url\"), React.createElement(\"input\", {\n        className: formErrors.url.length > 0 ? \"error\" : null,\n        placeholder: \"Url\",\n        type: \"text\",\n        name: \"url\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), formErrors.url.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, formErrors.url)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Outcode\"), React.createElement(\"input\", {\n        className: formErrors.outcode.length > 0 ? \"error\" : null,\n        placeholder: \"Outcode\",\n        type: \"text\",\n        name: \"outcode\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), formErrors.outcode.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, formErrors.outcode)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"postcode\"), React.createElement(\"input\", {\n        className: formErrors.postcode.length > 0 ? \"error\" : null,\n        placeholder: \"Postcode\",\n        type: \"text\",\n        name: \"postcode\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), formErrors.postcode.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, formErrors.postcode)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Rating\"), React.createElement(\"input\", {\n        className: formErrors.rating.length > 0 ? \"error\" : null,\n        placeholder: \"Rating\",\n        type: \"text\",\n        name: \"rating\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), formErrors.rating.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, formErrors.rating)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Food Type\"), React.createElement(\"input\", {\n        className: formErrors.type_of_food.length > 0 ? \"error\" : null,\n        placeholder: \"Food type\",\n        type: \"text\",\n        name: \"type_of_food\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }), formErrors.type_of_food.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, formErrors.type_of_food)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick() {\n          console.log(\"click post\");\n\n          _this2.handleSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Submit\")))), this.state.status && React.createElement(\"span\", {\n        className: \"alert alert-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Submited succesfully\"), this.state.status === false && React.createElement(\"span\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, this.state.responseerror));\n    }\n  }]);\n\n  return restaurantRegistration;\n}(Component);\n\nexport default restaurantRegistration;","map":{"version":3,"sources":["/home/prince/go/src/MAD_Assignment/restapplication/restaurant/src/components/pages/resataurantRegistration.js"],"names":["React","Component","formValid","formErrors","status","responseerror","rest","valid","Object","values","forEach","val","length","restaurantRegistration","props","registration","fetch","mode","method","headers","Accept","body","JSON","stringify","name","state","firstName","addressline2","address","url","outcode","postcode","rating","parseInt","type_of_food","then","response","json","responseJson","console","log","setState","message","catch","error","handleSubmit","e","preventDefault","handleChange","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./cra.css\";\n\nconst formValid = ({ formErrors, status, responseerror, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nclass restaurantRegistration extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstName: null,\n      address: null,\n      addressline2: null,\n      url: null,\n      outcode: null,\n      postcode: null,\n      rating: null,\n      type_of_food: null,\n      formErrors: {\n        firstName: \"\",\n        address: \"\",\n        addressline2: \"\",\n        url: \"\",\n        outcode: \"\",\n        postcode: \"\",\n        rating: \"\",\n        type_of_food: \"\"\n      },\n      status: null,\n      responseerror: null\n    };\n  }\n\n  registration = () =>{\n    return fetch(\"http://localhost:8080/restaurant/\",{mode :'no-cors'}, {\n        method: \"POST\",\n        headers: {\n          \"Access-Control-Allow-Credentials\": true,\n          \"Access-Control-Allow-Origin\": \"*\",\n         Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.state.firstName,\n          addressline2: this.state.addressline2,\n          address: this.state.address,\n          url: this.state.url,\n          outcode: this.state.outcode,\n          postcode: this.state.postcode,\n          rating: parseInt(this.state.rating, 10), //it convert string to int\n          type_of_food: this.state.type_of_food\n        })\n      })\n        .then(response => response.json())\n        .then(responseJson => {\n          console.log(\"response\", responseJson);\n          if (responseJson.status) {\n            this.setState({\n              status: responseJson.status\n            });\n          } else {\n            this.setState({\n              status: responseJson.status,\n              responseerror: responseJson.message\n            });\n          }\n          console.log(\"state\", this.state);\n        })\n        .catch(error => {\n          console.error(\"error\", error);\n        });\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.registration()\n    if (formValid(this.state)) {\n      console.log(\"--SUBMITTING\", this.state);\n      \n    }\n      else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n      \n\n  handleChange = e => {\n    e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"firstName\":\n        formErrors.firstName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"address\":\n        formErrors.address =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"addressline2\":\n        formErrors.addressline2 =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"url\":\n        formErrors.url =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"outcode\":\n        formErrors.outcode =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"postcode\":\n        formErrors.postcode =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"rating\":\n        formErrors.rating =\n          value.length < 0 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"type_of_food\":\n        formErrors.type_of_food =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n  };\n\n  render() {\n    const { formErrors } = this.state;\n\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form-wrapper\">\n          <h1>Create Account</h1>\n          {/* <form onSubmit={this.handleSubmit} noValidate> */}\n          <form noValidate>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">First Name</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"First Name\"\n                type=\"text\"\n                name=\"firstName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.firstName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.firstName}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Address</label>\n              <input\n                className={formErrors.address.length > 0 ? \"error\" : null}\n                placeholder=\"Address\"\n                type=\"text\"\n                name=\"address\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.address.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.address}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">address Line 2</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"Address Line 2\"\n                type=\"text\"\n                name=\"addressline2\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.addressline2.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.addressline2}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Url</label>\n              <input\n                className={formErrors.url.length > 0 ? \"error\" : null}\n                placeholder=\"Url\"\n                type=\"text\"\n                name=\"url\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.url.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.url}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Outcode</label>\n              <input\n                className={formErrors.outcode.length > 0 ? \"error\" : null}\n                placeholder=\"Outcode\"\n                type=\"text\"\n                name=\"outcode\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.outcode.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.outcode}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">postcode</label>\n              <input\n                className={formErrors.postcode.length > 0 ? \"error\" : null}\n                placeholder=\"Postcode\"\n                type=\"text\"\n                name=\"postcode\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.postcode.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.postcode}</span>\n              )}\n            </div>\n\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Rating</label>\n              <input\n                className={formErrors.rating.length > 0 ? \"error\" : null}\n                placeholder=\"Rating\"\n                type=\"text\"\n                name=\"rating\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.rating.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.rating}</span>\n              )}\n            </div>\n\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Food Type</label>\n              <input\n                className={formErrors.type_of_food.length > 0 ? \"error\" : null}\n                placeholder=\"Food type\"\n                type=\"text\"\n                name=\"type_of_food\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.type_of_food.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.type_of_food}</span>\n              )}\n            </div>\n\n            <div className=\"createAccount\">\n              <button onClick={()=>{\n                console.log(\"click post\");\n                this.handleSubmit()\n                }\n              }>Submit</button>\n            </div>\n          </form>\n        </div>\n        {this.state.status && (\n          <span className=\"alert alert-success\">Submited succesfully</span>\n        )}\n        {this.state.status === false && (\n          <span className=\"alert alert-danger\">{this.state.responseerror}</span>\n        )}\n      </div>\n    );\n  }\n}\nexport default restaurantRegistration;\n"]},"metadata":{},"sourceType":"module"}