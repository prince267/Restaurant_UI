{"ast":null,"code":"import _defineProperty from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/prince/go/src/MAD_Assignment/restapplication/restaurant/src/components/pages/resataurantRegistration.js\";\nimport React, { Component } from \"react\";\nimport \"./cra.css\";\n\nvar formValid = function formValid(_ref) {\n  var formErrors = _ref.formErrors,\n      status = _ref.status,\n      responseerror = _ref.responseerror,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\", \"status\", \"responseerror\"]);\n\n  var valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(function (val) {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(function (val) {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nvar restaurantRegistration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(restaurantRegistration, _Component);\n\n  function restaurantRegistration(props) {\n    var _this;\n\n    _classCallCheck(this, restaurantRegistration);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(restaurantRegistration).call(this, props));\n\n    _this.registration = function () {// return fetch(\"http://localhost:8080/restaurant/\",{mode :'no-cors'}, {\n      //     method: \"GET\",\n      //     headers: {\n      //       \"Access-Control-Allow-Credentials\": true,\n      //       \"Access-Control-Allow-Origin\": \"*\",\n      //   //   Accept: \"application/json\",\n      //       \"Content-Type\": \"application/json\"\n      //     },\n      //     body: JSON.stringify({\n      //       name: this.state.firstName,\n      //       addressline2: this.state.addressline2,\n      //       address: this.state.address,\n      //       url: this.state.url,\n      //       outcode: this.state.outcode,\n      //       postcode: this.state.postcode,\n      //       rating: parseInt(this.state.rating, 10), //it convert string to int\n      //       type_of_food: this.state.type_of_food\n      //     })\n      //   })\n      //     .then(response => response.json())\n      //     .then(responseJson => {\n      //       console.log(\"response\", responseJson);\n      //       if (responseJson.status) {\n      //         this.setState({\n      //           status: responseJson.status\n      //         });\n      //       } else {\n      //         this.setState({\n      //           status: responseJson.status,\n      //           responseerror: responseJson.message\n      //         });\n      //       }\n      //       console.log(\"state\", this.state);\n      //     })\n      //     .catch(error => {\n      //       console.error(\"error\", error);\n      //     });\n    };\n\n    _this.handleSubmit = function (e) {\n      //  e.preventDefault();\n      _this.registration().then(function () {\n        console.log(\"hoooooooooooss\");\n      });\n\n      if (formValid(_this.state)) {\n        console.log(\"--SUBMITTING\", _this.state);\n      } else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n\n    _this.handleChange = function (e) {\n      //e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"firstName\":\n          formErrors.firstName = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"address\":\n          formErrors.address = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"addressline2\":\n          formErrors.addressline2 = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"url\":\n          formErrors.url = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"outcode\":\n          formErrors.outcode = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"postcode\":\n          formErrors.postcode = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"rating\":\n          formErrors.rating = value.length < 0 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"type_of_food\":\n          formErrors.type_of_food = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.state = {\n      firstName: null,\n      address: null,\n      addressline2: null,\n      url: null,\n      outcode: null,\n      postcode: null,\n      rating: null,\n      type_of_food: null,\n      formErrors: {\n        firstName: \"\",\n        address: \"\",\n        addressline2: \"\",\n        url: \"\",\n        outcode: \"\",\n        postcode: \"\",\n        rating: \"\",\n        type_of_food: \"\"\n      },\n      status: null,\n      responseerror: null\n    };\n    return _this;\n  }\n\n  _createClass(restaurantRegistration, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Create Account\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"input\", {\n        className: formErrors.firstName.length > 0 ? \"error\" : null,\n        placeholder: \"First Name\",\n        type: \"text\",\n        name: \"firstName\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), formErrors.firstName.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, formErrors.firstName)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Address\"), React.createElement(\"input\", {\n        className: formErrors.address.length > 0 ? \"error\" : null,\n        placeholder: \"Address\",\n        type: \"text\",\n        name: \"address\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), formErrors.address.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, formErrors.address)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"address Line 2\"), React.createElement(\"input\", {\n        className: formErrors.firstName.length > 0 ? \"error\" : null,\n        placeholder: \"Address Line 2\",\n        type: \"text\",\n        name: \"addressline2\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), formErrors.addressline2.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, formErrors.addressline2)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Url\"), React.createElement(\"input\", {\n        className: formErrors.url.length > 0 ? \"error\" : null,\n        placeholder: \"Url\",\n        type: \"text\",\n        name: \"url\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), formErrors.url.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, formErrors.url)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Outcode\"), React.createElement(\"input\", {\n        className: formErrors.outcode.length > 0 ? \"error\" : null,\n        placeholder: \"Outcode\",\n        type: \"text\",\n        name: \"outcode\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), formErrors.outcode.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, formErrors.outcode)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"postcode\"), React.createElement(\"input\", {\n        className: formErrors.postcode.length > 0 ? \"error\" : null,\n        placeholder: \"Postcode\",\n        type: \"text\",\n        name: \"postcode\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), formErrors.postcode.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, formErrors.postcode)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, \"Rating\"), React.createElement(\"input\", {\n        className: formErrors.rating.length > 0 ? \"error\" : null,\n        placeholder: \"Rating\",\n        type: \"text\",\n        name: \"rating\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), formErrors.rating.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, formErrors.rating)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Food Type\"), React.createElement(\"input\", {\n        className: formErrors.type_of_food.length > 0 ? \"error\" : null,\n        placeholder: \"Food type\",\n        type: \"text\",\n        name: \"type_of_food\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }), formErrors.type_of_food.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, formErrors.type_of_food)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          console.log(\"click post\");\n\n          _this2.handleSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Submit\")))), this.state.status && React.createElement(\"span\", {\n        className: \"alert alert-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Submited succesfully\"), this.state.status === false && React.createElement(\"span\", {\n        className: \"alert alert-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, this.state.responseerror));\n    }\n  }]);\n\n  return restaurantRegistration;\n}(Component);\n\nexport default restaurantRegistration;","map":{"version":3,"sources":["/home/prince/go/src/MAD_Assignment/restapplication/restaurant/src/components/pages/resataurantRegistration.js"],"names":["React","Component","formValid","formErrors","status","responseerror","rest","valid","Object","values","forEach","val","length","restaurantRegistration","props","registration","handleSubmit","e","then","console","log","state","error","handleChange","target","name","value","firstName","address","addressline2","url","outcode","postcode","rating","type_of_food","setState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./cra.css\";\n\nconst formValid = ({ formErrors, status, responseerror, ...rest }) => {\n  let valid = true;\n\n  // validate form errors being empty\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n\n  // validate the form was filled out\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n\n  return valid;\n};\n\nclass restaurantRegistration extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      firstName: null,\n      address: null,\n      addressline2: null,\n      url: null,\n      outcode: null,\n      postcode: null,\n      rating: null,\n      type_of_food: null,\n      formErrors: {\n        firstName: \"\",\n        address: \"\",\n        addressline2: \"\",\n        url: \"\",\n        outcode: \"\",\n        postcode: \"\",\n        rating: \"\",\n        type_of_food: \"\"\n      },\n      status: null,\n      responseerror: null\n    };\n  }\n\n  registration = () =>{\n    // return fetch(\"http://localhost:8080/restaurant/\",{mode :'no-cors'}, {\n    //     method: \"GET\",\n    //     headers: {\n    //       \"Access-Control-Allow-Credentials\": true,\n    //       \"Access-Control-Allow-Origin\": \"*\",\n    //   //   Accept: \"application/json\",\n    //       \"Content-Type\": \"application/json\"\n    //     },\n    //     body: JSON.stringify({\n    //       name: this.state.firstName,\n    //       addressline2: this.state.addressline2,\n    //       address: this.state.address,\n    //       url: this.state.url,\n    //       outcode: this.state.outcode,\n    //       postcode: this.state.postcode,\n    //       rating: parseInt(this.state.rating, 10), //it convert string to int\n    //       type_of_food: this.state.type_of_food\n    //     })\n    //   })\n    //     .then(response => response.json())\n    //     .then(responseJson => {\n    //       console.log(\"response\", responseJson);\n    //       if (responseJson.status) {\n    //         this.setState({\n    //           status: responseJson.status\n    //         });\n    //       } else {\n    //         this.setState({\n    //           status: responseJson.status,\n    //           responseerror: responseJson.message\n    //         });\n    //       }\n    //       console.log(\"state\", this.state);\n    //     })\n    //     .catch(error => {\n    //       console.error(\"error\", error);\n    //     });\n  }\n\n  handleSubmit = e => {\n  //  e.preventDefault();\n    this.registration().then(()=>{\n      console.log(\"hoooooooooooss\")\n    })\n    if (formValid(this.state)) {\n      console.log(\"--SUBMITTING\", this.state);\n      \n    }\n      else {\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    };\n      \n\n  handleChange = e => {\n    //e.preventDefault();\n    const { name, value } = e.target;\n    let formErrors = { ...this.state.formErrors };\n\n    switch (name) {\n      case \"firstName\":\n        formErrors.firstName =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"address\":\n        formErrors.address =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"addressline2\":\n        formErrors.addressline2 =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"url\":\n        formErrors.url =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"outcode\":\n        formErrors.outcode =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"postcode\":\n        formErrors.postcode =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"rating\":\n        formErrors.rating =\n          value.length < 0 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      case \"type_of_food\":\n        formErrors.type_of_food =\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n        break;\n      default:\n        break;\n    }\n\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n  };\n\n  render() {\n    const { formErrors } = this.state;\n\n    return (\n      <div className=\"wrapper\">\n        <div className=\"form-wrapper\">\n          <h1>Create Account</h1>\n          {/* <form onSubmit={this.handleSubmit} noValidate> */}\n          <form >\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">First Name</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"First Name\"\n                type=\"text\"\n                name=\"firstName\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.firstName.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.firstName}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Address</label>\n              <input\n                className={formErrors.address.length > 0 ? \"error\" : null}\n                placeholder=\"Address\"\n                type=\"text\"\n                name=\"address\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.address.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.address}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">address Line 2</label>\n              <input\n                className={formErrors.firstName.length > 0 ? \"error\" : null}\n                placeholder=\"Address Line 2\"\n                type=\"text\"\n                name=\"addressline2\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.addressline2.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.addressline2}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Url</label>\n              <input\n                className={formErrors.url.length > 0 ? \"error\" : null}\n                placeholder=\"Url\"\n                type=\"text\"\n                name=\"url\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.url.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.url}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Outcode</label>\n              <input\n                className={formErrors.outcode.length > 0 ? \"error\" : null}\n                placeholder=\"Outcode\"\n                type=\"text\"\n                name=\"outcode\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.outcode.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.outcode}</span>\n              )}\n            </div>\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">postcode</label>\n              <input\n                className={formErrors.postcode.length > 0 ? \"error\" : null}\n                placeholder=\"Postcode\"\n                type=\"text\"\n                name=\"postcode\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.postcode.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.postcode}</span>\n              )}\n            </div>\n\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Rating</label>\n              <input\n                className={formErrors.rating.length > 0 ? \"error\" : null}\n                placeholder=\"Rating\"\n                type=\"text\"\n                name=\"rating\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.rating.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.rating}</span>\n              )}\n            </div>\n\n            <div className=\"email\">\n              <label htmlFor=\"firstName\">Food Type</label>\n              <input\n                className={formErrors.type_of_food.length > 0 ? \"error\" : null}\n                placeholder=\"Food type\"\n                type=\"text\"\n                name=\"type_of_food\"\n                noValidate\n                onChange={this.handleChange}\n              />\n              {formErrors.type_of_food.length > 0 && (\n                <span className=\"errorMessage\">{formErrors.type_of_food}</span>\n              )}\n            </div>\n\n            <div className=\"createAccount\">\n              <button \n                type=\"button\" \n                onClick={()=>{\n                console.log(\"click post\");\n                this.handleSubmit()\n                }\n              }>Submit</button>\n            </div>\n          </form>\n        </div>\n        {this.state.status && (\n          <span className=\"alert alert-success\">Submited succesfully</span>\n        )}\n        {this.state.status === false && (\n          <span className=\"alert alert-danger\">{this.state.responseerror}</span>\n        )}\n      </div>\n    );\n  }\n}\nexport default restaurantRegistration;\n"]},"metadata":{},"sourceType":"module"}